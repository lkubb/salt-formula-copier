# yamllint disable rule:indentation rule:line-length
# Ubuntu-16.04
---
values:
{!- if settings !}
  {= settings | yaml(False) | indent(2) =}
{!- endif !}
  users:
    user:
      completions: .completions
      configsync: true
      persistenv: .bash_profile
      rchook: .bashrc
      xdg: true
{!- if user_settings !}
      {= abbr_pysafe =}:
        {= user_settings | yaml(False) | indent(8) =}
{!- endif !}
  added_in_defaults: defaults_value
  added_in_lookup: lookup_value
  added_in_pillar: pillar_value
  arch: amd64
  lookup:
    added_in_lookup: lookup_value
    master: template-master
    winner: lookup
    pkg:
      name: {= pkg =}
{!- if "pkg" in lookup !}
      {= lookup.pkg | yaml(False) | indent(6) =}
{!- endif !}
{!- if needs_repo !}
      enable_repo:
        - stable
{!- endif !}
    paths:
      confdir: '{= default_confdir =}'
      conffile: '{= default_conffile =}'
{!- if needs_xdg_help or has_xdg !}
      xdg_dirname: '{= xdg_dirname =}'
      xdg_conffile: '{= xdg_conffile =}'
{!- endif !}
{!- if "paths" in lookup !}
      {= lookup.paths | yaml(False) | indent(6) =}
{!- endif !}
    rootgroup: root
{!- if has_service !}
    service:
      name: {= pkg =}
{!-   if "service" in lookup !}
      {= lookup.service | yaml(False) | indent(6) =}
{!-   endif !}
{!- endif !}
{!- for var, val in lookup.items() !}
{!-   if var not in ["pkg", "service", "paths"] !}
    {= {var: val} | yaml(False) | indent(4) =}
{!-   endif !}
{!- endfor !}
  map_jinja:
    sources:
    - "Y:G@osarch"
    - "Y:G@os_family"
    - "Y:G@os"
    - "Y:G@osfinger"
    - "C@tool_global"
    - "C@tool_{= abbr_pysafe =}"
    - "Y:G@id"
  master: template-master
  tofs:
    files_switch:
    - any/path/can/be/used/here
    - id
    - roles
    - osfinger
    - os
    - os_family
{!- if has_config_template !}
    source_files:
      {= service_name =} config file is managed for user 'user':
      - {= xdg_conffile or default_conffile =}
      - {= xdg_conffile or default_conffile =}.jinja
{!- endif !}
  winner: pillar
